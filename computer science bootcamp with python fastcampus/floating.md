# 3장 실수

- 이번 장에서는 ‘실수’에 대해 알아보려고 합니다. 
- 하지만 처음 배우는 사람은 컴퓨터에서 실수를 표현하는 방식을 이해하기가 어려울 수 있습니다.
- ‘실수 표현은 표현 범위가 넓은 대신 정밀도가 낮다’ 

# 실수 연산의 함정

간단한 실수 연산 예제를 만들어 보겠습니다. 

```python
>>> a = 0.01

>>> result = 0.0

>>> for i in range(100):

        result += a
```



이 코드를 보면 a가 0.01이고 이를 100번 더했으니 당연히 1이 나오기를 기대합니다. 하지만 결과를 확인해 보면 예상과 다릅니다. 

```python
>>> result

1.0000000000000007
```





# 실수: 부동소수점

 IEEE(Institute of Electrical and Electronics Engineers, 전기전자기술자협회)가 1985년에 제정한 ANSI/IEEE 754-1985라는 표준이 있습니다.

컴퓨터는 이 표준에 따라 실수(real number)를 표현하는데요. 

이 표준에 따른 표현법을 부동소수점(floating-point)이라고 부릅니다.

여기서 ''부''는  둥둥 떠다닌다는 뜻.

왜 이런 이름이 붙었을까요?

- 1234는
  $$
  123.4\times10^1, 12.34\times10^2, 1.234\times10^3
  $$

- 로 대체하여 표현가능합니다.

소수점 위치가 앞에 있기도 하고 뒤에 있기도 합니다.

마치 소수점이 떠다니는 것 같아

이런 실수 표현 방식을 ''부동소수점''이라 부릅니다.



----



# 단정도와 배정도



부동소수점은 ''단정도 부동소수점''과 ''배정도 부동소수점''이 있습니다. 

단정도(single-precision)는 실수를 32비트(4byte)로 표현합니다. 부호 1bit, 지수부 8bit, 가수부 23bit로 구성됩니다(부호, 지수부, 가수부는 뒤에서  설명합니다).

배정도(double-precision)는 실수를 64비트(8byte)로 표현합니다. 부호 1bit, 지수부 11bit, 가수부 52bit로 구성됩니다. 사용하는 bit가 단정도보다 두 배 많아서 정밀도가 높습니다. 

파이썬은 배정도를 사용합니다. 

파이썬에 구현된 실수의 정보를 볼까요.

sys라는 모듈을 임포트한 다음 float_info를 입력합니다.

```python
import sys
sys.float_info
```

```
sys.float_info(max=1.7976931348623157e+308, max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021, min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.220446049250313e-16, radix=2, rounds=1)
```



- 배정도 부동소수점으로 표현할 수 있는 가장 큰 수 

```python
>>> sys.float_info.max

1.7976931348623157e+308
```

여기서 e는 지수를 뜻하는 exponent의 줄임말입니다.

다음 수와 같습니다.
$$
1.7976931348623157\times10^{308}
$$

- 배정도 부동소수점으로 표현할 수 있는 가장 작은 수 

```python
>>> sys.float_info.min

2.2250738585072014e-308
```

10의 -308승이 얼마나 작은지 상상조차 할 수 없습니다. 

그만큼 8바이트 배정도 부동소수점을 사용하면 표현 범위가 엄청 넓어집니다. 



----

